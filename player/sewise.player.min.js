/*
 * Name: SewisePlayer framework V1.0.0
 * Author: Jack Zhang
 * Website: http://www.sewise.com/
 * Date: Jan 10, 2014
 * Copyright: 2013-2014, Sewise
 * 
 */


(function(c){c.SewisePlayer=c.SewisePlayer||{version:"1.0.0",script:"",localPath:"",video:""};c.SewisePlayerSkin=c.SewisePlayerSkin||{}})(window);(function(c){c.SewisePlayer.IVodPlayer=c.SewisePlayer.IVodPlayer||{play:function(){},pause:function(){},stop:function(){},seek:function(){},changeClarity:function(){},setVolume:function(){},toPlay:function(){},duration:function(){},playTime:function(){},type:function(){},showTextTip:function(){},hideTextTip:function(){},muted:function(){}}})(window);(function(c){c.SewisePlayerSkin.IVodSkin=c.SewisePlayerSkin.IVodSkin||{player:function(){},started:function(){},paused:function(){},stopped:function(){},seeking:function(){},buffering:function(){},bufferProgress:function(){},loadedProgress:function(){},programTitle:function(){},duration:function(){},playTime:function(){},startTime:function(){},loadSpeed:function(){},initialClarity:function(){},lang:function(){},logo:function(){},clarityButton:function(){},timeDisplay:function(){},controlBarDisplay:function(){},
topBarDisplay:function(){},timeUpdate:function(){}}})(window);(function(c){c.SewisePlayer.ILivePlayer=c.SewisePlayer.ILivePlayer||{live:function(){},play:function(){},pause:function(){},stop:function(){},seek:function(){},changeClarity:function(){},setVolume:function(){},toPlay:function(){},duration:function(){},liveTime:function(){},playTime:function(){},type:function(){},showTextTip:function(){},hideTextTip:function(){},muted:function(){}}})(window);(function(c){c.SewisePlayerSkin.ILiveSkin=c.SewisePlayerSkin.ILiveSkin||{player:function(){},started:function(){},paused:function(){},stopped:function(){},seeking:function(){},buffering:function(){},bufferProgress:function(){},loadedProgress:function(){},programTitle:function(){},duration:function(){},playTime:function(){},startTime:function(){},loadSpeed:function(){},initialClarity:function(){},lang:function(){},logo:function(){},clarityButton:function(){},timeDisplay:function(){},controlBarDisplay:function(){},
topBarDisplay:function(){},timeUpdate:function(){}}})(window);(function(){SewisePlayer.GlobalConst={FLASH:"flash",HTML5:"html5",VOD:"vod",LIVE:"live",FLV:"flv",MP4:"mp4",RTMP:"rtmp",HTTP:"http",M3U8:"m3u8"}})();(function(){SewisePlayer.CommandDispatcher=function(){function c(){this.handlers={}}c.prototype={constructor:c,addEventListener:function(a,c){if(void 0!=a)"undefined"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(c);else throw Error("undefined property events.");},dispatchEvent:function(a){if(!a.target)a.target=this;if(this.handlers[a.type]instanceof Array)for(var c=this.handlers[a.type],b=0,f=c.length;b<f;b++)c[b](a)},removeEventListener:function(a,c){if(this.handlers[a]instanceof
Array){for(var b=this.handlers[a],f=0,d=b.length;f<d&&!(b[f]===c);f++);b.splice(f,1)}}};return new c}()})();(function(){SewisePlayer.Events={PARAMS_READY:"params_ready",PLAYER_SKIN_LOADED:"player_skin_loaded",PLAYER_SKIN_LOADED_ERROR:"player_skin_loaded_error",STREAMS_DATA_READY:"streams_data_ready",STREAMS_DATA_FAILED:"streams_data_failed",PLAY_VIDEO:"play_video",PLAY_NEXT:"play_next",PLAY_START:"play_start",PLAY_PAUSE:"play_pause",DURATION_CHANGE:"duration_change",TIME_UPDATE:"time_update",LOAD_PROGRESS:"load_progress"}})();(function(){SewisePlayer.Utils={jsonp:function(c){var a=c.url,e=c.jsonp,b=c.jsonpCallback,f=c.data,c=c.success,d="",g;for(g in f)d+="&"+g+"="+f[g];d="?"+d.slice(1);null==e&&(e="callback");null==b&&(b="callbackFun"+(new Date).getTime());var a=a+d+("&"+e+"="+b),h=document.createElement("script");h.setAttribute("type","text/javascript");h.src=a;document.body.appendChild(h);window[b]=c;h.onload=h.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&
document.body.removeChild(h)}},getScript:function(c){var a=c.url,e=c.data,b=c.success,c="",f;for(f in e)c+="&"+f+"="+e[f];var c="?"+c.slice(1),a=a+c,d=document.createElement("script");d.setAttribute("type","text/javascript");d.src=a;document.body.appendChild(d);d.onload=d.onreadystatechange=function(){b();(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&document.body.removeChild(d)}},getParameters:function(c){var a=document.getElementsByTagName("script"),e;try{for(var b=
a.length,f=0;f<b;f++){var d=a[f].src.split("?"),g=d[0],h=g.split("/"),g=1==h.length?h[0]:h[h.length-1];if(g==c[0]||g==c[1]){e=d[1].split("&");SewisePlayer.script=a[f];if(g==c[1]){var k=d[0].lastIndexOf("/");if(0<k)SewisePlayer.localPath=d[0].slice(0,k+1)}break}}for(var c={},u,l,v,a=0,m=e.length;a<m;a++)u=e[a].split("="),l=u[0],v=u[1],"undefined"==typeof c[l]?c[l]=v:("string"==typeof c[l]&&(c[l]=[c[l]]),c[l].push(v));return c}catch(n){return[]}},browser:{versions:function(){var c=navigator.userAgent;
return{trident:-1<c.indexOf("Trident"),presto:-1<c.indexOf("Presto"),webKit:-1<c.indexOf("AppleWebKit"),gecko:-1<c.indexOf("Gecko")&&-1==c.indexOf("KHTML"),mobile:!!c.match(/AppleWebKit.*Mobile.*/),ios:!!c.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<c.indexOf("Android"),iPhone:-1<c.indexOf("iPhone"),iPad:-1<c.indexOf("iPad"),webApp:-1==c.indexOf("Safari")}}(),supportH5:function(){var c=!1;navigator.geolocation&&(c=!0);return c}(),supportFlash:function(){if(0<navigator.mimeTypes.length){var c=
navigator.mimeTypes["application/x-shockwave-flash"];return null!=c?null!=c.enabledPlugin:!1}if(self.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(a){return!1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},location:{hostname:function(c){if(c){var a=document.createElement("a");a.href=c;return a.hostname}return window.location.hostname},port:function(c){if(c){var a=document.createElement("a");a.href=c;return a.port}return window.location.port},
porthost:function(c){var a;c?(a=document.createElement("a"),a.href=c,c=a.hostname,a=a.port):(c=window.location.hostname,a=window.location.port);var e=c;a&&0!=a&&(e=c+":"+a);return e}},loader:{loadCssFile:function(c,a){var e=document.createElement("link");e.rel="stylesheet";e.href=c;if(a)e.onerror=function(){a()};document.getElementsByTagName("head")[0].appendChild(e)},loadJsFile:function(c,a,e,b,f){var d=document.getElementsByTagName("head")[0],g=null;if(!c&&!f||"override"==c){g=document.createElement("script");
g.type="text/javascript";g.charset="utf-8";g.src=a;if(e)g.onload=g.onreadystatechange=function(){if(g.ready)return!1;if(!g.readyState||"loaded"==g.readyState||"complete"==g.readyState)g.ready=!0,e()};if(b)g.onerror=function(){b()};d.appendChild(g)}else e&&e()}}}})();(function(){SewisePlayer.GlobalParams=function(c){var a="",e="",b=SewisePlayer.Utils.getParameters(c);b.server&&(a=b.server);b.type&&(e=b.type);var f=SewisePlayer.Utils.browser.versions.mobile,d=SewisePlayer.Utils.browser.supportH5,c=SewisePlayer.Utils.browser.supportFlash,g=SewisePlayer.Utils.location.porthost(SewisePlayer.localPath),h="";if(""==e)a==SewisePlayer.GlobalConst.VOD?e=f&&!c?SewisePlayer.GlobalConst.M3U8:SewisePlayer.GlobalConst.FLV:a==SewisePlayer.GlobalConst.LIVE&&(e=f&&!c?SewisePlayer.GlobalConst.M3U8:
SewisePlayer.GlobalConst.RTMP),b.type=e;this.getPlayerId=function(){return b.playerid?b.playerid:"sewise_player"};this.getServerType=function(){return a};this.getPlayerType=function(){if(a==SewisePlayer.GlobalConst.VOD)switch(e){case SewisePlayer.GlobalConst.FLV:h=SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.MP4:h=d?SewisePlayer.GlobalConst.HTML5:SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.M3U8:h=d&&f?SewisePlayer.GlobalConst.HTML5:SewisePlayer.GlobalConst.FLASH}else if(a==
SewisePlayer.GlobalConst.LIVE)switch(e){case SewisePlayer.GlobalConst.RTMP:h=SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.HTTP:h=SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.M3U8:h=d&&f?SewisePlayer.GlobalConst.HTML5:SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.MP4:h=d?SewisePlayer.GlobalConst.HTML5:SewisePlayer.GlobalConst.FLASH}return h};this.getPlayVars=function(){var c;if(h==SewisePlayer.GlobalConst.HTML5)if(a==SewisePlayer.GlobalConst.VOD){c=
b.autostart?b.autostart:"true";var d=b.sourceid,e=b.lang?b.lang:"en_US",f=b.logo,m=b.buffer?b.buffer:5,n=b.type,i=b.skin,o=""!=g&&"localhost"!=g?"http://"+g+"/service/playerapi/":"http://192.168.1.24/service/playerapi/";if(i){var j={};j.jqueryPath=SewisePlayer.localPath+"js/jquery.min.js";j.skinCssPath=SewisePlayer.localPath+"html/skins/"+i+"/skin.css";j.skinHtmlPath=SewisePlayer.localPath+"html/skins/"+i+"/skin.html";j.skinHtmlJsPath=SewisePlayer.localPath+"html/skins/"+i+"/skin.html.js";j.skinJsPath=
SewisePlayer.localPath+"html/skins/"+i+"/skin.js";i=j}else i="";var j=b.title?decodeURI(b.title):"",p=b.draggable?b.draggable:"true",q=b.published?b.published:0,r=b.videourl?b.videourl:"",s=b.starttime?b.starttime:0,t=b.poster;c={autoStart:c,programId:d,lang:e,logo:f,buffer:m,type:n,skin:i,serverPath:o,title:j,draggable:p,published:q,videoUrl:r,startTime:s,poster:t,playerName:"Sewise Player",copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",
topBarDisplay:"enable",customStrings:""}}else{if(a==SewisePlayer.GlobalConst.LIVE){c=b.autostart?b.autostart:"true";d=b.pid;r=b.shifttime?b.shifttime:"";m=b.buffer?b.buffer:5;f=b.logo;e=b.lang?b.lang:"en_US";n=b.type;i=b.skin;o=""!=g&&"localhost"!=g?"http://"+g+"/service/playerapi/":"http://192.168.1.219/service/playerapi/";i?(j={},j.jqueryPath=SewisePlayer.localPath+"js/jquery.min.js",j.skinCssPath=SewisePlayer.localPath+"html/skins/"+i+"/skin.css",j.skinHtmlPath=SewisePlayer.localPath+"html/skins/"+
i+"/skin.html",j.skinHtmlJsPath=SewisePlayer.localPath+"html/skins/"+i+"/skin.html.js",j.skinJsPath=SewisePlayer.localPath+"html/skins/"+i+"/skin.js",i=j):i="";var j=b.title?decodeURI(b.title):"",p=b.draggable?b.draggable:"true",q=b.published?b.published:0,s=b.streamurl?b.streamurl:"",w=b.duration?b.duration:3600,t=b.poster;c={autoStart:c,programId:d,shiftTime:r,buffer:m,logo:f,lang:e,type:n,skin:i,serverPath:o,title:j,draggable:p,published:q,streamUrl:s,duration:w,poster:t,playerName:"Sewise Player",
copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",topBarDisplay:"enable",customStrings:""}}}else if(h==SewisePlayer.GlobalConst.FLASH)if(a==SewisePlayer.GlobalConst.VOD)c=b.autostart?b.autostart:"true",d=b.sourceid,e=b.lang?b.lang:"en_US",f=b.logo,m=b.buffer?b.buffer:5,n=b.type,i=b.skin,o=""!=g&&"localhost"!=g?"http://"+g+"/flashservice/gateway.php":"http://192.168.1.24/flashservice/gateway.php",i=i?SewisePlayer.localPath+
"flash/skins/"+i+".swf":"",j=b.title?b.title:"",p=b.draggable?b.draggable:"true",q=b.published?b.published:0,r=b.videourl?b.videourl:"",s=b.starttime?b.starttime:0,t=b.poster,c={autoStart:c,programId:d,lang:e,logo:f,buffer:m,type:n,serverPath:o,serverApi:"ServerApi.execute",skin:i,title:j,draggable:p,published:q,videoUrl:r,startTime:s,poster:t,playerName:"Sewise Player",copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",
topBarDisplay:"enable",customStrings:""};else if(a==SewisePlayer.GlobalConst.LIVE)c=b.autostart?b.autostart:"true",d=b.pid,r=b.shifttime?b.shifttime:"",m=b.buffer?b.buffer:5,f=b.logo,e=b.lang?b.lang:"en_US",n=b.type,i=b.skin,o=""!=g&&"localhost"!=g?"http://"+g+"/flashservice/gateway.php":"http://192.168.1.219/flashservice/gateway.php",i=i?SewisePlayer.localPath+"flash/skins/"+i+".swf":"",j=b.title?b.title:"",p=b.draggable?b.draggable:"true",q=b.published?b.published:0,s=b.streamurl?b.streamurl:"",
w=b.duration?b.duration:3600,t=b.poster,c={autoStart:c,programId:d,shiftTime:r,buffer:m,logo:f,lang:e,type:n,serverPath:o,serverApi:"ServerApi.execute",skin:i,title:j,draggable:p,published:q,streamUrl:s,duration:w,poster:t,playerName:"Sewise Player",copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",topBarDisplay:"enable",customStrings:""};return c}}})();(function(){SewisePlayer.H5Params=function(){var c=this;this.autoStart=!0;this.programId="";this.lang="en_US";this.logo="http://onvod.sewise.com/libs/swfplayer/skin/images/logo.png";this.buffer=5;this.title=this.serverPath=this.shiftTime=this.type="";this.draggable=!0;this.published=1;this.streamUrl=this.videoUrl="";this.startTime=0;this.duration=3600;this.playerName="Sewise Player";this.copyright="(C) All right reserved the SEWISE inc 2011-2014";this.poster=this.skin="";this.parseParams=function(a){if("true"!=
a.autoStart)c.autoStart=!1;var e=a.programId;if(e)c.programId=e;if(e=a.lang)c.lang=e;if(e=a.logo)c.logo=e;if(e=a.buffer)c.buffer=e;if(e=a.type)c.type=e;if(e=a.shiftTime)c.type=e;if(e=a.serverPath)c.serverPath=e;if(e=a.title)c.title=e;if(e=a.draggable)c.draggable=e;if(e=a.published)c.published=e;if(e=a.videoUrl)c.videoUrl=e;if(e=a.streamUrl)c.streamUrl=e;if(e=a.startTime)c.startTime=e;if(e=a.duration)c.duration=e;if(e=a.playerName)c.playerName=e;if(e=a.copyright)c.copyright=e;if(e=a.skin)c.skin=e;
if(a=a.poster)c.poster=a;SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PARAMS_READY})}}})();(function(){SewisePlayer.PlayerSkinLoader=function(c,a){function e(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAYER_SKIN_LOADED_ERROR})}function b(){var a=document.getElementsByTagName("body")[0],b=document.createElement("iframe");b.src=k;b.onload=b.onreadystatechange=function(){try{var e=b.contentWindow.document.getElementsByClassName("sewise-player-ui")[0];c.appendChild(e);a.removeChild(b);SewisePlayer.Utils.loader.loadJsFile("override",u)}catch(g){a.removeChild(b),
SewisePlayer.Utils.loader.loadJsFile("override",l,f,d)}};a.appendChild(b)}function f(){c.appendChild(g(window.SewisePlayerSkin.localSkin)[0]);SewisePlayer.Utils.loader.loadJsFile("override",u)}function d(){e()}function g(a){var b=document.createElement("div");if("string"==typeof a)b.innerHTML=a;return b.childNodes}var h=a.jqueryPath,k=a.skinHtmlPath,u=a.skinJsPath,l=a.skinHtmlJsPath;SewisePlayer.Utils.loader.loadCssFile(a.skinCssPath,e);SewisePlayer.Utils.loader.loadJsFile(window.jQuery,h,function(){b()},
e,window.Zepto)}})();(function(){SewisePlayer.VodVideo=function(c,a){function e(){d.removeEventListener("canplay",e,!1);f=!0;if(b)d.currentTime=b}var b=0,f=!1,d;SewisePlayer.video&&!SewisePlayer.Utils.browser.versions.ios?(d=SewisePlayer.video,d.pause()):(d=document.createElement("video"),SewisePlayer.video=d);d.style.width="100%";d.style.height="100%";d.style.backgroundColor="#000000";d.autoplay=!1;d.controls=!0;d.loop=!1;d.preload="none";d.buffered=a;c.appendChild(d);d.addEventListener("play",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_START})},
!1);d.addEventListener("pause",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_PAUSE})},!1);d.addEventListener("durationchange",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.DURATION_CHANGE})},!1);d.addEventListener("timeupdate",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.TIME_UPDATE})},!1);d.addEventListener("progress",function(){var a;d.buffered&&d.duration&&(a=d.buffered.end(0)/d.duration);
SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.LOAD_PROGRESS,progress:a})},!1);d.addEventListener("canplay",e,!1);this.updatePlayer=function(a,c,e){b=c;d.src=a;d.poster=e};this.play=function(){d.autoplay=!0;d.play()};this.pause=function(){d.pause()};this.seek=function(a){f?d.currentTime=a:(d.autoplay=!0,d.play())};this.stop=function(){if(d.currentTime)d.currentTime=0;d.pause()};this.duration=function(){return d.duration};this.currentTime=function(){return d.currentTime};this.muted=
function(a){d.muted=a};this.controls=function(a){d.controls=a}}})();(function(){SewisePlayer.VodMediaConsole=function(c,a){var e=this,b;b=new SewisePlayer.VodVideo(c,a.buffer);var f=SewisePlayerSkin.IVodSkin,d=!1;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_READY,function(){f.programTitle(a.title);b.updatePlayer(a.videoUrl,a.startTime,a.poster);a.autoStart&&(a.startTime?b.seek(a.startTime):b.play());e.playerReady()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_FAILED,function(){});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,
function(c){f=c.playerSkin;f.player(SewisePlayer.IVodPlayer);f.logo(a.logo);b.controls(!1)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_START,function(){f.started()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_PAUSE,function(){f.paused()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.DURATION_CHANGE,function(){f.duration(b.duration())});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.TIME_UPDATE,
function(){f.timeUpdate(b.currentTime())});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.LOAD_PROGRESS,function(a){f.loadedProgress(a.progress)});SewisePlayer.IVodPlayer.play=function(){b.play()};SewisePlayer.IVodPlayer.pause=function(){b.pause()};SewisePlayer.IVodPlayer.seek=function(a){b.seek(a)};SewisePlayer.IVodPlayer.stop=function(){b.stop()};SewisePlayer.IVodPlayer.changeClarity=function(){};SewisePlayer.IVodPlayer.setVolume=function(){};SewisePlayer.IVodPlayer.muted=function(a){b.muted(a)};
SewisePlayer.IVodPlayer.toPlay=function(b,c,d,e){a.videoUrl=b;a.startTime=d;a.autoStart=e;SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})};SewisePlayer.IVodPlayer.duration=function(){return b.duration()};SewisePlayer.IVodPlayer.playTime=function(){return b.currentTime()};SewisePlayer.IVodPlayer.type=function(){};SewisePlayer.IVodPlayer.showTextTip=function(){};SewisePlayer.IVodPlayer.hideTextTip=function(){};this.doPlay=function(){SewisePlayer.IVodPlayer.play()};
this.doPause=function(){SewisePlayer.IVodPlayer.pause()};this.doSeek=function(a){SewisePlayer.IVodPlayer.seek(a)};this.doStop=function(){SewisePlayer.IVodPlayer.stop()};this.duration=function(){return SewisePlayer.IVodPlayer.duration()};this.playTime=function(){return SewisePlayer.IVodPlayer.playTime()};this.toPlay=function(a,b,c,d){SewisePlayer.IVodPlayer.toPlay(a,b,c,d)};this.playerReady=function(){d||(d=!0,window.playerReady&&"function"==typeof window.playerReady&&window.playerReady())}}})();(function(){SewisePlayer.VodMediaStreams=function(c,a){function e(){f.getStreams()}function b(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})}var f=this;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PARAMS_READY,function(){a.skin?SewisePlayer.PlayerSkinLoader(c,a.skin):f.getStreams()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,e);SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED_ERROR,
e);this.getStreams=function(){a.programId?SewisePlayer.Utils.jsonp({url:a.serverPath,jsonp:"callback",data:{"do":"getvideos",programid:a.programId,m3u8:1,isAjax:1,published:a.published},success:function(c){a.title=c.programname;a.videoUrl=c.m3u8url;a.poster=c.poster;b()}}):a.videoUrl?b():SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_FAILED})}}})();(function(){SewisePlayer.LiveVideo=function(c,a){function e(){d.removeEventListener("canplay",e,!1);f=!0;if(b)d.currentTime=b}var b=0,f=!1,d;SewisePlayer.video&&!SewisePlayer.Utils.browser.versions.ios?(d=SewisePlayer.video,d.pause()):(d=document.createElement("video"),SewisePlayer.video=d);d.style.width="100%";d.style.height="100%";d.style.backgroundColor="#000000";d.autoplay=!1;d.controls=!0;d.loop=!1;d.preload="none";d.buffered=a;c.appendChild(d);d.addEventListener("play",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_START})},
!1);d.addEventListener("pause",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_PAUSE})},!1);d.addEventListener("durationchange",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.DURATION_CHANGE})},!1);d.addEventListener("timeupdate",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.TIME_UPDATE})},!1);d.addEventListener("progress",function(){var a;d.buffered&&d.duration&&(a=d.buffered.end(0)/d.duration);
SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.LOAD_PROGRESS,progress:a})},!1);d.addEventListener("canplay",e,!1);this.updatePlayer=function(a,c,e){b=c;d.src=a;d.poster=e};this.play=function(){d.autoplay=!0;d.play()};this.pause=function(){d.pause()};this.seek=function(a){f?d.currentTime=a:(d.autoplay=!0,d.play())};this.stop=function(){d.pause()};this.duration=function(){};this.currentTime=function(){return d.currentTime};this.muted=function(a){d.muted=a};this.controls=function(a){d.controls=
a}}})();(function(){SewisePlayer.LiveMediaConsole=function(c,a){var e=this,b;b=new SewisePlayer.LiveVideo(c,a.buffer);var f=SewisePlayerSkin.ILiveSkin,d=!1;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_READY,function(){f.programTitle(a.title);b.updatePlayer(a.streamUrl,a.shiftTime,a.poster);a.autoStart&&(a.shiftTime?b.seek(a.shiftTime):b.play());e.playerReady()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_FAILED,function(){});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,
function(c){f=c.playerSkin;f.player(SewisePlayer.ILivePlayer);f.logo(a.logo);b.controls(!1)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_START,function(){f.started()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_PAUSE,function(){f.paused()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.DURATION_CHANGE,function(){f.duration(0)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.TIME_UPDATE,function(){f.timeUpdate(b.currentTime())});
SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.LOAD_PROGRESS,function(a){f.loadedProgress(a.progress)});SewisePlayer.ILivePlayer.live=function(){b.play()};SewisePlayer.ILivePlayer.play=function(){b.play()};SewisePlayer.ILivePlayer.pause=function(){b.pause()};SewisePlayer.ILivePlayer.seek=function(){};SewisePlayer.ILivePlayer.stop=function(){b.stop()};SewisePlayer.ILivePlayer.changeClarity=function(){};SewisePlayer.ILivePlayer.setVolume=function(){};SewisePlayer.ILivePlayer.muted=
function(a){b.muted(a)};SewisePlayer.ILivePlayer.toPlay=function(b,c,d,e){a.streamUrl=b;a.shiftTime=d;a.autoStart=e;SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})};SewisePlayer.ILivePlayer.duration=function(){return 0};SewisePlayer.ILivePlayer.liveTime=function(){return 0};SewisePlayer.ILivePlayer.playTime=function(){return b.currentTime()};SewisePlayer.ILivePlayer.type=function(){};SewisePlayer.ILivePlayer.showTextTip=function(){};SewisePlayer.ILivePlayer.hideTextTip=
function(){};this.doLive=function(){SewisePlayer.ILivePlayer.live()};this.doPlay=function(){SewisePlayer.ILivePlayer.play()};this.doPause=function(){SewisePlayer.ILivePlayer.pause()};this.doSeek=function(a){SewisePlayer.ILivePlayer.seek(a)};this.doStop=function(){SewisePlayer.ILivePlayer.stop()};this.liveTime=function(){return SewisePlayer.ILivePlayer.liveTime()};this.playTime=function(){return SewisePlayer.ILivePlayer.playTime()};this.toPlay=function(a,b,c,d){SewisePlayer.ILivePlayer.toPlay(a,b,
c,d)};this.playerReady=function(){d||(d=!0,window.playerReady&&"function"==typeof window.playerReady&&window.playerReady())}}})();(function(){SewisePlayer.LiveMediaStreams=function(c,a){function e(){f.getLiveStreams()}function b(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})}var f=this;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PARAMS_READY,function(){a.skin?SewisePlayer.PlayerSkinLoader(c,a.skin):f.getLiveStreams()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,e);SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED_ERROR,
e);this.getLiveStreams=function(){a.programId?SewisePlayer.Utils.getScript({url:a.serverPath,data:{"do":"getm3u8bypid",programid:a.programId,published:a.published},success:function(){a.streamUrl=m3u8Url;a.title=programname;a.poster=poster;b()}}):a.streamUrl?b():SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_FAILED})};this.getShiftStreams=function(){SewisePlayer.Utils.getScript({url:a.serverPath,data:{"do":"epg",op:"getm3u8",programid:a.programId,time:a.shiftTime,
playShift:"true"},success:function(){a.streamUrl=epgM3u8.url;b()}})}}})();(function(){SewisePlayer.PlayerCommon=function(c,a,e){var b;c==SewisePlayer.GlobalConst.VOD?(b=new SewisePlayer.VodMediaConsole(a,e),new SewisePlayer.VodMediaStreams(a,e)):c==SewisePlayer.GlobalConst.LIVE&&(b=new SewisePlayer.LiveMediaConsole(a,e),new SewisePlayer.LiveMediaStreams(a,e));return b}})();(function(){SewisePlayer.FlashExternalInterface=function(c,a){if(c==SewisePlayer.GlobalConst.VOD)SewisePlayer.doPlay=function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(c){a.doSeek(c)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.setVolume=function(c){a.setVolume(c)},SewisePlayer.duration=function(){return a.duration()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.playProgram=function(c,b,f){a.playProgram(c,b,f)},SewisePlayer.toPlay=
function(c,b,f,d){a.toPlay(c,b,f,d)};else if(c==SewisePlayer.GlobalConst.LIVE)SewisePlayer.doPlay=function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(c){a.doSeek(c)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.doLive=function(){a.doLive()},SewisePlayer.setVolume=function(c){a.setVolume(c)},SewisePlayer.liveTime=function(){return a.liveTime()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.playChannel=function(c,b,f){a.playChannel(c,
b,f)},SewisePlayer.toPlay=function(c,b,f,d){a.toPlay(c,b,f,d)}}})();(function(){SewisePlayer.Html5ExternalInterface=function(c,a){if(c==SewisePlayer.GlobalConst.VOD)SewisePlayer.doPlay=function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(c){a.doSeek(c)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.duration=function(){return a.duration()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.toPlay=function(c,b,f,d){a.toPlay(c,b,f,d)};else if(c==SewisePlayer.GlobalConst.LIVE)SewisePlayer.doPlay=function(){a.doPlay()},
SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(c){a.doSeek(c)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.liveTime=function(){return a.liveTime()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.toPlay=function(c,b,f,d){a.toPlay(c,b,f,d)}}})();(function(){function c(){a(k,g)}function a(a,b){var c=document.createElement("div");c.id="swf-container";a.appendChild(c);swfobject.embedSWF(SewisePlayer.localPath+"flash/SewisePlayer.swf","swf-container","100%","100%","9.0.115",!1,b,{allowfullscreen:!0,wmode:"transparent",allowscriptaccess:"always"},{id:h,name:h},function(){var a=document.getElementById(h);SewisePlayer.FlashExternalInterface(f,a)})}function e(a,b){var c=new SewisePlayer.H5Params(b),d=new SewisePlayer.PlayerCommon(f,a,c);SewisePlayer.Html5ExternalInterface(f,
d);c.parseParams(b)}var b=new SewisePlayer.GlobalParams(["SewisePlayer.js","sewise.player.min.js"]),f=b.getServerType(),d=b.getPlayerType(),g=b.getPlayVars(),h=b.getPlayerId(),b=SewisePlayer.script.parentNode,k=document.createElement("div");k.style.width="100%";k.style.height="100%";k.style.position="relative";b.appendChild(k);d==SewisePlayer.GlobalConst.HTML5?e(k,g):SewisePlayer.Utils.loader.loadJsFile(window.swfobject,SewisePlayer.localPath+"js/swfobject.js",c)})(window);
