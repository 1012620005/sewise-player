/*
 * Name: SewisePlayer framework V1.0.1
 * Author: Jack Zhang
 * Website: http://www.sewise.com/
 * Date: Jan 10, 2014
 * Copyright: 2013-2014, Sewise
 * 
 */
 
 
(function(b){b.SewisePlayer=b.SewisePlayer||{version:"1.0.0",script:"",localPath:"",video:""};b.SewisePlayerSkin=b.SewisePlayerSkin||{}})(window);(function(b){b.SewisePlayer.IVodPlayer=b.SewisePlayer.IVodPlayer||{play:function(){},pause:function(){},stop:function(){},seek:function(){},changeClarity:function(){},setVolume:function(){},toPlay:function(){},duration:function(){},playTime:function(){},type:function(){},showTextTip:function(){},hideTextTip:function(){},muted:function(){}}})(window);(function(b){b.SewisePlayerSkin.IVodSkin=b.SewisePlayerSkin.IVodSkin||{player:function(){},started:function(){},paused:function(){},stopped:function(){},seeking:function(){},buffering:function(){},bufferProgress:function(){},loadedProgress:function(){},programTitle:function(){},duration:function(){},playTime:function(){},startTime:function(){},loadSpeed:function(){},initialClarity:function(){},lang:function(){},logo:function(){},clarityButton:function(){},timeDisplay:function(){},controlBarDisplay:function(){},
topBarDisplay:function(){},timeUpdate:function(){}}})(window);(function(b){b.SewisePlayer.ILivePlayer=b.SewisePlayer.ILivePlayer||{live:function(){},play:function(){},pause:function(){},stop:function(){},seek:function(){},changeClarity:function(){},setVolume:function(){},toPlay:function(){},duration:function(){},liveTime:function(){},playTime:function(){},type:function(){},showTextTip:function(){},hideTextTip:function(){},muted:function(){}}})(window);(function(b){b.SewisePlayerSkin.ILiveSkin=b.SewisePlayerSkin.ILiveSkin||{player:function(){},started:function(){},paused:function(){},stopped:function(){},seeking:function(){},buffering:function(){},bufferProgress:function(){},loadedProgress:function(){},programTitle:function(){},duration:function(){},playTime:function(){},startTime:function(){},loadSpeed:function(){},initialClarity:function(){},lang:function(){},logo:function(){},clarityButton:function(){},timeDisplay:function(){},controlBarDisplay:function(){},
topBarDisplay:function(){},timeUpdate:function(){}}})(window);(function(){SewisePlayer.GlobalConst={FLASH:"flash",HTML5:"html5",VOD:"vod",LIVE:"live",FLV:"flv",MP4:"mp4",RTMP:"rtmp",HTTP:"http",M3U8:"m3u8"}})();(function(){SewisePlayer.CommandDispatcher=function(){function b(){this.handlers={}}b.prototype={constructor:b,addEventListener:function(a,d){if(void 0!=a)"undefined"==typeof this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(d);else throw Error("undefined property events.");},dispatchEvent:function(a){if(!a.target)a.target=this;if(this.handlers[a.type]instanceof Array)for(var d=this.handlers[a.type],b=0,g=d.length;b<g;b++)d[b](a)},removeEventListener:function(a,b){if(this.handlers[a]instanceof
Array){for(var f=this.handlers[a],g=0,c=f.length;g<c&&!(f[g]===b);g++);f.splice(g,1)}}};return new b}()})();(function(){SewisePlayer.Events={PARAMS_READY:"params_ready",PLAYER_SKIN_LOADED:"player_skin_loaded",PLAYER_SKIN_LOADED_ERROR:"player_skin_loaded_error",STREAMS_DATA_READY:"streams_data_ready",STREAMS_DATA_FAILED:"streams_data_failed",PLAY_VIDEO:"play_video",PLAY_NEXT:"play_next",PLAY_START:"play_start",PLAY_PAUSE:"play_pause",DURATION_CHANGE:"duration_change",TIME_UPDATE:"time_update",LOAD_PROGRESS:"load_progress"}})();(function(){SewisePlayer.Utils={jsonp:function(b){var a=b.url,d=b.jsonp,f=b.jsonpCallback,g=b.data,b=b.success,c="",h;for(h in g)c+="&"+h+"="+g[h];c="?"+c.slice(1);null==d&&(d="callback");null==f&&(f="callbackFun"+(new Date).getTime());var a=a+c+("&"+d+"="+f),i=document.createElement("script");i.setAttribute("type","text/javascript");i.src=a;document.body.appendChild(i);window[f]=b;i.onload=i.onreadystatechange=function(){(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&
document.body.removeChild(i)}},getScript:function(b){var a=b.url,d=b.data,f=b.success,b="",g;for(g in d)b+="&"+g+"="+d[g];var b="?"+b.slice(1),a=a+b,c=document.createElement("script");c.setAttribute("type","text/javascript");c.src=a;document.body.appendChild(c);c.onload=c.onreadystatechange=function(){f();(!this.readyState||"loaded"==this.readyState||"complete"==this.readyState)&&document.body.removeChild(c)}},getParameters:function(b){var a=document.getElementsByTagName("script"),d;try{for(var f=
a.length,g=0;g<f;g++){var c=a[g].src.split("?"),h=c[0],i=h.split("/"),h=1==i.length?i[0]:i[i.length-1];if(h==b[0]||h==b[1]){d=1<c.length?c[1].split("&"):[];SewisePlayer.script=a[g];if(h==b[1]){var l=c[0].lastIndexOf("/");if(0<l)SewisePlayer.localPath=c[0].slice(0,l+1)}break}}for(var b={},e,m,n,a=0,w=d.length;a<w;a++)e=d[a].split("="),m=e[0],n=e[1],"undefined"==typeof b[m]?b[m]=n:("string"==typeof b[m]&&(b[m]=[b[m]]),b[m].push(n));return b}catch(x){return[]}},object:{isEmpty:function(b){for(var a in b)return!1;
return!0}},browser:{versions:function(){var b=navigator.userAgent;return{trident:-1<b.indexOf("Trident"),presto:-1<b.indexOf("Presto"),webKit:-1<b.indexOf("AppleWebKit"),gecko:-1<b.indexOf("Gecko")&&-1==b.indexOf("KHTML"),mobile:!!b.match(/AppleWebKit.*Mobile.*/),ios:!!b.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<b.indexOf("Android"),iPhone:-1<b.indexOf("iPhone"),iPad:-1<b.indexOf("iPad"),webApp:-1==b.indexOf("Safari")}}(),supportH5:function(){var b=!1;navigator.geolocation&&(b=!0);return b}(),
supportFlash:function(){if(0<navigator.mimeTypes.length){var b=navigator.mimeTypes["application/x-shockwave-flash"];return null!=b?null!=b.enabledPlugin:!1}if(self.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(a){return!1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},location:{hostname:function(b){if(b){var a=document.createElement("a");a.href=b;return a.hostname}return window.location.hostname},port:function(b){if(b){var a=document.createElement("a");
a.href=b;return a.port}return window.location.port},porthost:function(b){var a;b?(a=document.createElement("a"),a.href=b,b=a.hostname,a=a.port):(b=window.location.hostname,a=window.location.port);var d=b;a&&0!=a&&(d=b+":"+a);return d}},loader:{loadCssFile:function(b,a){var d=document.createElement("link");d.rel="stylesheet";d.href=b;if(a)d.onerror=function(){a()};document.getElementsByTagName("head")[0].appendChild(d)},loadJsFile:function(b,a,d,f,g){var c=document.getElementsByTagName("head")[0],
h=null;if(!b&&!g||"override"==b){h=document.createElement("script");h.type="text/javascript";h.charset="utf-8";h.src=a;if(d)h.onload=h.onreadystatechange=function(){if(h.ready)return!1;if(!h.readyState||"loaded"==h.readyState||"complete"==h.readyState)h.ready=!0,d()};if(f)h.onerror=function(){f()};c.appendChild(h)}else d&&d()}}}})();(function(){SewisePlayer.GlobalParams=function(b){var a="",d="",f="",g,c,h,i,l="",e=SewisePlayer.Utils.getParameters(b);this.init=function(b){e=b;e.server&&(a=e.server);e.type&&(d=e.type);e.swfpath&&(f=e.swfpath);g=SewisePlayer.Utils.browser.versions.mobile;c=SewisePlayer.Utils.browser.supportH5;h=SewisePlayer.Utils.browser.supportFlash;i=SewisePlayer.Utils.location.porthost(SewisePlayer.localPath);if(""==d)a==SewisePlayer.GlobalConst.VOD?d=g&&!h?SewisePlayer.GlobalConst.M3U8:SewisePlayer.GlobalConst.FLV:
a==SewisePlayer.GlobalConst.LIVE&&(d=g&&!h?SewisePlayer.GlobalConst.M3U8:SewisePlayer.GlobalConst.RTMP),e.type=d};this.getParameObj=function(){return e};this.getPlayerId=function(){return e.playerid?e.playerid:"sewise_player"};this.getServerType=function(){return a};this.getSwfPath=function(){return f};this.getPlayerType=function(){if(a==SewisePlayer.GlobalConst.VOD)switch(d){case SewisePlayer.GlobalConst.FLV:l=SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.MP4:l=c?SewisePlayer.GlobalConst.HTML5:
SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.M3U8:l=c&&g?SewisePlayer.GlobalConst.HTML5:SewisePlayer.GlobalConst.FLASH}else if(a==SewisePlayer.GlobalConst.LIVE)switch(d){case SewisePlayer.GlobalConst.RTMP:l=SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.HTTP:l=SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.M3U8:l=c&&g?SewisePlayer.GlobalConst.HTML5:SewisePlayer.GlobalConst.FLASH;break;case SewisePlayer.GlobalConst.MP4:l=c?SewisePlayer.GlobalConst.HTML5:
SewisePlayer.GlobalConst.FLASH}return l};this.getPlayVars=function(){var b;if(l==SewisePlayer.GlobalConst.HTML5)if(a==SewisePlayer.GlobalConst.VOD){b=e.autostart?e.autostart:"true";var d=e.sourceid,c=e.lang?e.lang:"en_US",h=e.logo?e.logo:"",g=e.buffer?e.buffer:2,o=e.type,j=e.skin,p=""!=i&&"localhost"!=i?"http://"+i+"/service/playerapi/":"http://192.168.1.24/service/playerapi/";if(j){var k={};k.jqueryPath=SewisePlayer.localPath+"js/jquery.min.js";k.skinCssPath=SewisePlayer.localPath+"html/skins/"+
j+"/skin.css";k.skinHtmlPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.html";k.skinHtmlJsPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.html.js";k.skinJsPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.js";j=k}else j="";var k=e.title?decodeURI(e.title):"",q=e.draggable?e.draggable:"true",r=e.published?e.published:0,s=e.videourl?e.videourl:"",t=e.starttime?e.starttime:0,u=e.poster?e.poster:"";b={autoStart:b,programId:d,lang:c,logo:h,buffer:g,type:o,skin:j,serverPath:p,title:k,draggable:q,
published:r,videoUrl:s,startTime:t,poster:u,playerName:"Sewise Player",copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",topBarDisplay:"enable",customStrings:""}}else{if(a==SewisePlayer.GlobalConst.LIVE){b=e.autostart?e.autostart:"true";d=e.pid;s=e.shifttime?e.shifttime:"";g=e.buffer?e.buffer:0;h=e.logo?e.logo:"";c=e.lang?e.lang:"en_US";o=e.type;j=e.skin;p=""!=i&&"localhost"!=i?"http://"+i+"/service/playerapi/":"http://192.168.1.219/service/playerapi/";
j?(k={},k.jqueryPath=SewisePlayer.localPath+"js/jquery.min.js",k.skinCssPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.css",k.skinHtmlPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.html",k.skinHtmlJsPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.html.js",k.skinJsPath=SewisePlayer.localPath+"html/skins/"+j+"/skin.js",j=k):j="";var k=e.title?decodeURI(e.title):"",q=e.draggable?e.draggable:"true",r=e.published?e.published:0,t=e.streamurl?e.streamurl:"",v=e.duration?e.duration:3600,u=e.poster?
e.poster:"";b={autoStart:b,programId:d,shiftTime:s,buffer:g,logo:h,lang:c,type:o,skin:j,serverPath:p,title:k,draggable:q,published:r,streamUrl:t,duration:v,poster:u,playerName:"Sewise Player",copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",topBarDisplay:"enable",customStrings:""}}}else if(l==SewisePlayer.GlobalConst.FLASH)if(a==SewisePlayer.GlobalConst.VOD)b=e.autostart?e.autostart:"true",d=e.sourceid,c=e.lang?e.lang:
"en_US",h=e.logo?e.logo:"",g=e.buffer?e.buffer:2,o=e.type,j=e.skin,p=""!=i&&"localhost"!=i?"http://"+i+"/flashservice/gateway.php":"http://192.168.1.24/flashservice/gateway.php",j=j?""==f?SewisePlayer.localPath+"flash/skins/"+j+".swf":f+"flash/skins/"+j+".swf":"",k=e.title?e.title:"",q=e.draggable?e.draggable:"true",r=e.published?e.published:0,s=e.videourl?e.videourl:"",t=e.starttime?e.starttime:0,u=e.poster?e.poster:"",b={autoStart:b,programId:d,lang:c,logo:h,buffer:g,type:o,serverPath:p,serverApi:"ServerApi.execute",
skin:j,title:k,draggable:q,published:r,videoUrl:s,startTime:t,poster:u,playerName:"Sewise Player",copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",topBarDisplay:"enable",customStrings:""};else if(a==SewisePlayer.GlobalConst.LIVE)b=e.autostart?e.autostart:"true",d=e.pid,s=e.shifttime?e.shifttime:"",g=e.buffer?e.buffer:0,h=e.logo?e.logo:"",c=e.lang?e.lang:"en_US",o=e.type,j=e.skin,p=""!=i&&"localhost"!=i?"http://"+i+"/flashservice/gateway.php":
"http://192.168.1.219/flashservice/gateway.php",j=j?""==f?SewisePlayer.localPath+"flash/skins/"+j+".swf":f+"flash/skins/"+j+".swf":"",k=e.title?e.title:"",q=e.draggable?e.draggable:"true",r=e.published?e.published:0,t=e.streamurl?e.streamurl:"",v=e.duration?e.duration:3600,u=e.poster?e.poster:"",b={autoStart:b,programId:d,shiftTime:s,buffer:g,logo:h,lang:c,type:o,serverPath:p,serverApi:"ServerApi.execute",skin:j,title:k,draggable:q,published:r,streamUrl:t,duration:v,poster:u,playerName:"Sewise Player",
copyright:"(C) All right reserved the SEWISE inc 2011-2013",clarityButton:"enable",timeDisplay:"enable",controlBarDisplay:"enable",topBarDisplay:"enable",customStrings:""};return b}}})();(function(){SewisePlayer.H5Params=function(){var b=this;this.autoStart=!0;this.programId="";this.lang="en_US";this.logo="http://onvod.sewise.com/libs/swfplayer/skin/images/logo.png";this.buffer=5;this.title=this.serverPath=this.shiftTime=this.type="";this.draggable=!0;this.published=1;this.streamUrl=this.videoUrl="";this.startTime=0;this.duration=3600;this.playerName="Sewise Player";this.copyright="(C) All right reserved the SEWISE inc 2011-2014";this.poster=this.skin="";this.parseParams=function(a){if("true"!=
a.autoStart)b.autoStart=!1;var d=a.programId;if(d)b.programId=d;if(d=a.lang)b.lang=d;if(d=a.logo)b.logo=d;if(d=a.buffer)b.buffer=d;if(d=a.type)b.type=d;if(d=a.shiftTime)b.type=d;if(d=a.serverPath)b.serverPath=d;if(d=a.title)b.title=d;if(d=a.draggable)b.draggable=d;if(d=a.published)b.published=d;if(d=a.videoUrl)b.videoUrl=d;if(d=a.streamUrl)b.streamUrl=d;if(d=a.startTime)b.startTime=d;if(d=a.duration)b.duration=d;if(d=a.playerName)b.playerName=d;if(d=a.copyright)b.copyright=d;if(d=a.skin)b.skin=d;
if(a=a.poster)b.poster=a;SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PARAMS_READY})}}})();(function(){SewisePlayer.PlayerSkinLoader=function(b,a){function d(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAYER_SKIN_LOADED_ERROR})}function f(){var a=document.getElementsByTagName("body")[0],d=document.createElement("iframe");d.src=l;d.onload=d.onreadystatechange=function(){try{var h=d.contentWindow.document.getElementsByClassName("sewise-player-ui")[0];b.appendChild(h);a.removeChild(d);SewisePlayer.Utils.loader.loadJsFile("override",e)}catch(f){a.removeChild(d),
SewisePlayer.Utils.loader.loadJsFile("override",m,g,c)}};a.appendChild(d)}function g(){b.appendChild(h(window.SewisePlayerSkin.localSkin)[0]);SewisePlayer.Utils.loader.loadJsFile("override",e)}function c(){d()}function h(a){var b=document.createElement("div");if("string"==typeof a)b.innerHTML=a;return b.childNodes}var i=a.jqueryPath,l=a.skinHtmlPath,e=a.skinJsPath,m=a.skinHtmlJsPath;SewisePlayer.Utils.loader.loadCssFile(a.skinCssPath,d);SewisePlayer.Utils.loader.loadJsFile(window.jQuery,i,function(){f()},
d,window.Zepto)}})();(function(){SewisePlayer.VodVideo=function(b,a){function d(){c.removeEventListener("canplay",d,!1);g=!0;if(f)c.currentTime=f}var f=0,g=!1,c;SewisePlayer.video&&!SewisePlayer.Utils.browser.versions.ios?(c=SewisePlayer.video,c.pause()):(c=document.createElement("video"),SewisePlayer.video=c);c.style.width="100%";c.style.height="100%";c.style.backgroundColor="#000000";c.autoplay=!1;c.controls=!0;c.loop=!1;c.preload="none";c.buffered=a;b.appendChild(c);c.addEventListener("play",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_START})},
!1);c.addEventListener("pause",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_PAUSE})},!1);c.addEventListener("durationchange",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.DURATION_CHANGE})},!1);c.addEventListener("timeupdate",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.TIME_UPDATE})},!1);c.addEventListener("progress",function(){var a;c.buffered&&c.duration&&(a=c.buffered.end(0)/c.duration);
SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.LOAD_PROGRESS,progress:a})},!1);c.addEventListener("canplay",d,!1);this.updatePlayer=function(a,b,d){f=b;c.src=a;c.poster=d};this.play=function(){c.autoplay=!0;c.play()};this.pause=function(){c.pause()};this.seek=function(a){g?c.currentTime=a:(c.autoplay=!0,c.play())};this.stop=function(){if(c.currentTime)c.currentTime=0;c.pause()};this.duration=function(){return c.duration};this.currentTime=function(){return c.currentTime};this.muted=
function(a){c.muted=a};this.controls=function(a){c.controls=a};this.volume=function(a){c.volume=a}}})();(function(){SewisePlayer.VodMediaConsole=function(b,a){var d=this,f;f=new SewisePlayer.VodVideo(b,a.buffer);var g=SewisePlayerSkin.IVodSkin,c=!1;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_READY,function(){g.programTitle(a.title);f.updatePlayer(a.videoUrl,a.startTime,a.poster);a.autoStart&&(a.startTime?f.seek(a.startTime):f.play());d.playerReady()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_FAILED,function(){});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,
function(b){g=b.playerSkin;g.player(SewisePlayer.IVodPlayer);g.logo(a.logo);f.controls(!1)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_START,function(){g.started();d.onStart()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_PAUSE,function(){g.paused();d.onPause()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.DURATION_CHANGE,function(){g.duration(f.duration())});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.TIME_UPDATE,
function(){var a=f.currentTime();g.timeUpdate(a);d.onPlayTime(a)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.LOAD_PROGRESS,function(a){g.loadedProgress(a.progress)});SewisePlayer.IVodPlayer.play=function(){f.play()};SewisePlayer.IVodPlayer.pause=function(){f.pause()};SewisePlayer.IVodPlayer.seek=function(a){f.seek(a);d.onSeek(a)};SewisePlayer.IVodPlayer.stop=function(){f.stop();d.onStop()};SewisePlayer.IVodPlayer.changeClarity=function(){};SewisePlayer.IVodPlayer.setVolume=
function(a){f.volume(a)};SewisePlayer.IVodPlayer.muted=function(a){f.muted(a)};SewisePlayer.IVodPlayer.toPlay=function(b,d,c,e){a.videoUrl=b;a.startTime=c;a.autoStart=e;SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})};SewisePlayer.IVodPlayer.duration=function(){return f.duration()};SewisePlayer.IVodPlayer.playTime=function(){return f.currentTime()};SewisePlayer.IVodPlayer.type=function(){};SewisePlayer.IVodPlayer.showTextTip=function(){};SewisePlayer.IVodPlayer.hideTextTip=
function(){};this.doPlay=function(){SewisePlayer.IVodPlayer.play()};this.doPause=function(){SewisePlayer.IVodPlayer.pause()};this.doSeek=function(a){SewisePlayer.IVodPlayer.seek(a)};this.doStop=function(){SewisePlayer.IVodPlayer.stop()};this.setVolume=function(a){SewisePlayer.IVodPlayer.setVolume(a)};this.duration=function(){return SewisePlayer.IVodPlayer.duration()};this.playTime=function(){return SewisePlayer.IVodPlayer.playTime()};this.toPlay=function(a,b,d,c){SewisePlayer.IVodPlayer.toPlay(a,
b,d,c)};this.playerReady=function(){c||(c=!0,window.playerReady&&"function"==typeof window.playerReady&&window.playerReady())};this.onStart=function(a){if(window.onStart&&"function"==typeof window.onStart)window.onStart(a)};this.onStop=function(a){if(window.onStop&&"function"==typeof window.onStop)window.onStop(a)};this.onMetadata=function(a,b){if(window.onMetadata&&"function"==typeof window.onMetadata)window.onMetadata(a,b)};this.onClarity=function(a,b){if(window.onClarity&&"function"==typeof window.onClarity)window.onClarity(a,
b)};this.onPause=function(a){if(window.onPause&&"function"==typeof window.onPause)window.onPause(a)};this.onSeek=function(a,b){if(window.onSeek&&"function"==typeof window.onSeek)window.onSeek(a,b)};this.onPlayTime=function(a,b){if(window.onPlayTime&&"function"==typeof window.onPlayTime)window.onPlayTime(a,b)}}})();(function(){SewisePlayer.VodMediaStreams=function(b,a){function d(){g.getStreams()}function f(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})}var g=this;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PARAMS_READY,function(){a.skin?SewisePlayer.PlayerSkinLoader(b,a.skin):g.getStreams()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,d);SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED_ERROR,
d);this.getStreams=function(){a.programId?SewisePlayer.Utils.jsonp({url:a.serverPath,jsonp:"callback",data:{"do":"getvideos",programid:a.programId,m3u8:1,isAjax:1,published:a.published},success:function(b){a.title=b.programname;a.videoUrl=b.m3u8url;a.poster=b.poster;f()}}):a.videoUrl?f():SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_FAILED})}}})();(function(){SewisePlayer.LiveVideo=function(b,a){function d(){c.removeEventListener("canplay",d,!1);g=!0;if(f)c.currentTime=f}var f=0,g=!1,c;SewisePlayer.video&&!SewisePlayer.Utils.browser.versions.ios?(c=SewisePlayer.video,c.pause()):(c=document.createElement("video"),SewisePlayer.video=c);c.style.width="100%";c.style.height="100%";c.style.backgroundColor="#000000";c.autoplay=!1;c.controls=!0;c.loop=!1;c.preload="none";c.buffered=a;b.appendChild(c);c.addEventListener("play",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_START})},
!1);c.addEventListener("pause",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.PLAY_PAUSE})},!1);c.addEventListener("durationchange",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.DURATION_CHANGE})},!1);c.addEventListener("timeupdate",function(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.TIME_UPDATE})},!1);c.addEventListener("progress",function(){var a;c.buffered&&c.duration&&(a=c.buffered.end(0)/c.duration);
SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.LOAD_PROGRESS,progress:a})},!1);c.addEventListener("canplay",d,!1);this.updatePlayer=function(a,b,d){f=b;c.src=a;c.poster=d};this.play=function(){c.autoplay=!0;c.play()};this.pause=function(){c.pause()};this.seek=function(a){g?c.currentTime=a:(c.autoplay=!0,c.play())};this.stop=function(){c.pause()};this.duration=function(){};this.currentTime=function(){return c.currentTime};this.muted=function(a){c.muted=a};this.controls=function(a){c.controls=
a};this.volume=function(a){c.volume=a}}})();(function(){SewisePlayer.LiveMediaConsole=function(b,a){var d=this,f;f=new SewisePlayer.LiveVideo(b,a.buffer);var g=SewisePlayerSkin.ILiveSkin,c=!1;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_READY,function(){g.programTitle(a.title);f.updatePlayer(a.streamUrl,a.shiftTime,a.poster);a.autoStart&&(a.shiftTime?f.seek(a.shiftTime):f.play());d.playerReady()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.STREAMS_DATA_FAILED,function(){});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,
function(b){g=b.playerSkin;g.player(SewisePlayer.ILivePlayer);g.logo(a.logo);f.controls(!1)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_START,function(){g.started();d.onStart()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAY_PAUSE,function(){g.paused();d.onPause()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.DURATION_CHANGE,function(){g.duration(0)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.TIME_UPDATE,
function(){var a=f.currentTime();g.timeUpdate(a);d.onPlayTime(a)});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.LOAD_PROGRESS,function(a){g.loadedProgress(a.progress)});SewisePlayer.ILivePlayer.live=function(){f.play()};SewisePlayer.ILivePlayer.play=function(){f.play()};SewisePlayer.ILivePlayer.pause=function(){f.pause()};SewisePlayer.ILivePlayer.seek=function(){};SewisePlayer.ILivePlayer.stop=function(){f.stop();d.onStop()};SewisePlayer.ILivePlayer.changeClarity=function(){};
SewisePlayer.ILivePlayer.setVolume=function(a){f.volume(a)};SewisePlayer.ILivePlayer.muted=function(a){f.muted(a)};SewisePlayer.ILivePlayer.toPlay=function(b,d,c,e){a.streamUrl=b;a.shiftTime=c;a.autoStart=e;SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})};SewisePlayer.ILivePlayer.duration=function(){return 0};SewisePlayer.ILivePlayer.liveTime=function(){return 0};SewisePlayer.ILivePlayer.playTime=function(){return f.currentTime()};SewisePlayer.ILivePlayer.type=
function(){};SewisePlayer.ILivePlayer.showTextTip=function(){};SewisePlayer.ILivePlayer.hideTextTip=function(){};this.doLive=function(){SewisePlayer.ILivePlayer.live()};this.doPlay=function(){SewisePlayer.ILivePlayer.play()};this.doPause=function(){SewisePlayer.ILivePlayer.pause()};this.doSeek=function(a){SewisePlayer.ILivePlayer.seek(a)};this.doStop=function(){SewisePlayer.ILivePlayer.stop()};this.setVolume=function(a){SewisePlayer.ILivePlayer.setVolume(a)};this.liveTime=function(){return SewisePlayer.ILivePlayer.liveTime()};
this.playTime=function(){return SewisePlayer.ILivePlayer.playTime()};this.toPlay=function(a,b,d,c){SewisePlayer.ILivePlayer.toPlay(a,b,d,c)};this.playerReady=function(){c||(c=!0,window.playerReady&&"function"==typeof window.playerReady&&window.playerReady())};this.onStart=function(a){if(window.onStart&&"function"==typeof window.onStart)window.onStart(a)};this.onStop=function(a){if(window.onStop&&"function"==typeof window.onStop)window.onStop(a)};this.onMetadata=function(a,b){if(window.onMetadata&&
"function"==typeof window.onMetadata)window.onMetadata(a,b)};this.onClarity=function(a,b){if(window.onClarity&&"function"==typeof window.onClarity)window.onClarity(a,b)};this.onPause=function(a){if(window.onPause&&"function"==typeof window.onPause)window.onPause(a)};this.onSeek=function(a,b){if(window.onSeek&&"function"==typeof window.onSeek)window.onSeek(a,b)};this.onPlayTime=function(a,b){if(window.onPlayTime&&"function"==typeof window.onPlayTime)window.onPlayTime(a,b)}}})();(function(){SewisePlayer.LiveMediaStreams=function(b,a){function d(){g.getLiveStreams()}function f(){SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_READY})}var g=this;SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PARAMS_READY,function(){a.skin?SewisePlayer.PlayerSkinLoader(b,a.skin):g.getLiveStreams()});SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED,d);SewisePlayer.CommandDispatcher.addEventListener(SewisePlayer.Events.PLAYER_SKIN_LOADED_ERROR,
d);this.getLiveStreams=function(){a.programId?SewisePlayer.Utils.getScript({url:a.serverPath,data:{"do":"getm3u8bypid",programid:a.programId,published:a.published},success:function(){a.streamUrl=m3u8Url;a.title=programname;a.poster=poster;f()}}):a.streamUrl?f():SewisePlayer.CommandDispatcher.dispatchEvent({type:SewisePlayer.Events.STREAMS_DATA_FAILED})};this.getShiftStreams=function(){SewisePlayer.Utils.getScript({url:a.serverPath,data:{"do":"epg",op:"getm3u8",programid:a.programId,time:a.shiftTime,
playShift:"true"},success:function(){a.streamUrl=epgM3u8.url;f()}})}}})();(function(){SewisePlayer.PlayerCommon=function(b,a,d){var f;b==SewisePlayer.GlobalConst.VOD?(f=new SewisePlayer.VodMediaConsole(a,d),new SewisePlayer.VodMediaStreams(a,d)):b==SewisePlayer.GlobalConst.LIVE&&(f=new SewisePlayer.LiveMediaConsole(a,d),new SewisePlayer.LiveMediaStreams(a,d));return f}})();(function(){SewisePlayer.FlashExternalInterface=function(b,a){if(b==SewisePlayer.GlobalConst.VOD)SewisePlayer.doPlay=function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(b){a.doSeek(b)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.setVolume=function(b){a.setVolume(b)},SewisePlayer.duration=function(){return a.duration()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.playProgram=function(b,f,g){a.playProgram(b,f,g)},SewisePlayer.toPlay=
function(b,f,g,c){a.toPlay(b,f,g,c)};else if(b==SewisePlayer.GlobalConst.LIVE)SewisePlayer.doPlay=function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(b){a.doSeek(b)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.doLive=function(){a.doLive()},SewisePlayer.setVolume=function(b){a.setVolume(b)},SewisePlayer.liveTime=function(){return a.liveTime()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.playChannel=function(b,f,g){a.playChannel(b,
f,g)},SewisePlayer.toPlay=function(b,f,g,c){a.toPlay(b,f,g,c)}}})();(function(){SewisePlayer.Html5ExternalInterface=function(b,a){if(b==SewisePlayer.GlobalConst.VOD)SewisePlayer.doPlay=function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.doSeek=function(b){a.doSeek(b)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.setVolume=function(b){a.setVolume(b)},SewisePlayer.duration=function(){return a.duration()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.toPlay=function(b,f,g,c){a.toPlay(b,f,g,c)};else if(b==SewisePlayer.GlobalConst.LIVE)SewisePlayer.doPlay=
function(){a.doPlay()},SewisePlayer.doPause=function(){a.doPause()},SewisePlayer.setVolume=function(b){a.setVolume(b)},SewisePlayer.doSeek=function(b){a.doSeek(b)},SewisePlayer.doStop=function(){a.doStop()},SewisePlayer.liveTime=function(){return a.liveTime()},SewisePlayer.playTime=function(){return a.playTime()},SewisePlayer.toPlay=function(b,f,g,c){a.toPlay(b,f,g,c)}}})();(function(){function b(){function b(){d(n,l)}function d(b,c){var f=document.createElement("div");f.id="swf-container";b.appendChild(f);var f={id:e,name:e},g=a.getSwfPath();swfobject.embedSWF(""==g?SewisePlayer.localPath+"flash/SewisePlayer.swf":g+"flash/SewisePlayer.swf","swf-container","100%","100%","9.0.115",!1,c,{allowfullscreen:!0,wmode:"transparent",allowscriptaccess:"always"},f,function(){var a=document.getElementById(e);SewisePlayer.FlashExternalInterface(h,a)})}function c(a,b){var c=new SewisePlayer.H5Params(b),
d=new SewisePlayer.PlayerCommon(h,a,c);SewisePlayer.Html5ExternalInterface(h,d);c.parseParams(b)}var h=a.getServerType(),i=a.getPlayerType(),l=a.getPlayVars(),e=a.getPlayerId(),m=SewisePlayer.script.parentNode,n=document.createElement("div");n.style.width="100%";n.style.height="100%";n.style.position="relative";m.appendChild(n);i==SewisePlayer.GlobalConst.HTML5?c(n,l):SewisePlayer.Utils.loader.loadJsFile(window.swfobject,SewisePlayer.localPath+"js/swfobject.js",b)}var a=new SewisePlayer.GlobalParams(["SewisePlayer.js",
"sewise.player.min.js"]),d=a.getParameObj();SewisePlayer.Utils.object.isEmpty(d)||(a.init(d),b());SewisePlayer.setup=function(f){d=f;a.init(d);b()}})(window);
